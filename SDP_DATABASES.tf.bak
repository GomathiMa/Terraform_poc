#module code that calls the script to create SDP_BRONZE database
provider "aws" {
  region = "eu-west-1"
}

terraform {
  backend "s3" {
  }
}

module "sdp_bronze" {
  source        = "./module/snowflake_database"
  database_name = "SDP_BRONZE_${var.snowflake_env_name}"
  db_comment    = "Bronze layer database for dev/test/prod environment"
  #data_retention     = 90
  username           = var.username
  account            = var.account
  password           = var.password
  role               = var.role
  snowflake_env_name = var.snowflake_env_name
}
module "sdp_silver" {
  source        = "./module/snowflake_database"
  database_name = "SDP_SILVER_${var.snowflake_env_name}"
  db_comment    = "Silver layer database for dev/test/prod environment"
  #data_retention     = 90
  username           = var.username
  account            = var.account
  password           = var.password
  role               = var.role
  snowflake_env_name = var.snowflake_env_name
}
module "sdp_gold" {
  source        = "./module/snowflake_database"
  database_name = "SDP_GOLD_${var.snowflake_env_name}"
  db_comment    = "Gold layer database for dev/test/prod environment"
  #data_retention     = 90
  username           = var.username
  account            = var.account
  password           = var.password
  role               = var.role
  snowflake_env_name = var.snowflake_env_name
}